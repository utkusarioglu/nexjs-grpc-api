version: "3.9"
services:
  api:
    image: utkusarioglu/node-devcontainer:19-slim.0.5
    environment:
      RUN_MODE: development
    volumes:
      - type: bind
        source: ..
        target: /utkusarioglu-com/projects/nextjs-grpc/api
        read_only: false
      - type: bind
        source: ../../proto
        target: /utkusarioglu-com/projects/nextjs-grpc/proto
        read_only: true
      - type: bind
        source: ../../secrets/secrets/tls/root/certs/root.crt
        target: /utkusarioglu-com/projects/nextjs-grpc/api/.certs/root/root.crt
        read_only: true
        volume:
          nocopy: true
      - type: bind
        source: ../../secrets/secrets/tls/root/private/root.key
        target: /utkusarioglu-com/projects/nextjs-grpc/api/.certs/root/root.key
        read_only: true
        volume:
          nocopy: true
